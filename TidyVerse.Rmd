---
title: "Tidyverse"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Tidyverse

In this assignment, you’ll practice collaborating around a code project with GitHub.  You could consider our collective work as building out a book of examples on how to use TidyVerse functions.

GitHub repository:  https://github.com/acatlin/FALL2020TIDYVERSE

FiveThirtyEight.com datasets.

Kaggle datasets. 

Your task here is to Create an Example.  Using one or more TidyVerse packages, and any dataset from fivethirtyeight.com or Kaggle, create a programming sample “vignette” that demonstrates how to use one or more of the capabilities of the selected TidyVerse package with your selected dataset. (25 points)


#### Read data using readr::read_csv

```{r }
library(tidyverse)

pums <- read_csv("https://raw.githubusercontent.com/szx868/data607/master/Tidyverse/2019PUMS_PERSON_DATA_NY.csv")


```
#### Using dplyr::select to have column you needed

```{r}
select(pums,c("Age","SEX","Total_Personal_Earnings","Total_Personal_Income"))

```

#### Using dplyr::filter to age

```{r}
filter(pums,Age > 36)

```

#### Select with blacklist vs conventional whitelist
Lets extend the 'Select' function we just covered. We can use this function to select a subset of columns but also excluding explicit columns. Sometimes this leads to less syntax, especially when you want to keep a majority of the columns.

On top of that we will also include the `head` function so that we can view a sample of our data, without running the entire dataframe into memory.

```{r}
pums %>%
  select(-Worker_Class, -School_Attending) %>%
    head()
```

#### Renaming Columns with Select
Select can also be used to rename columns. However, that drops all the columns that are not mentioned. 


```{r}
pums %>%
  select(gender = SEX,
         salary = Total_Personal_Earnings,
         other_income = Total_Personal_Income
         ) %>%
  head()

```

##### Select a subset and rename
But what if you only want to rename some of the columns and also maintain a subset of the data? In that case, you can use the rename function.

```{r}
pums %>%
  # selects subset of original dataframe
  select(-Worker_Class, -School_Attending) %>%
  # renames columns with new header
    rename(gender = SEX,
           salary = Total_Personal_Earnings,
           other_income = Total_Personal_Income
           ) %>%
  # displays only first 5 rows
      head(5)


```
 